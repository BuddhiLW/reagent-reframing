{"version":3,"sources":["day8/re_frame_10x/view/components.cljs"],"mappings":"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","names":["p__39493","map__39494","cljs.core/--destructure-map","cljs.core.get","day8.re-frame-10x.view.components/search-input","title","placeholder","on-save","on-change","on-stop","val","day8.re_frame_10x.inlined_deps.reagent.v1v0v0.reagent.core.atom","save","v","cljs.core/deref","clojure.string/trim","p1__39490#","p1__39491#","cljs.core/reset!","G__39505","day8.re-frame-10x.view.components/scroll!","el","start","end","time","goog.fx.dom/Scroll","cljs.core/clj->js","day8.re-frame-10x.view.components/scrolled-to-end?","tolerance","day8.re-frame-10x.view.components/string->css","css-string","clojure.string.split","p1__39508#","cljs.core.map","cljs.core.reduce","p__39509","vec__39510","cljs.core.nth","acc","property","value","cljs.core.assoc","cljs.core.keyword","day8.re-frame-10x.view.components/default-cljs-devtools-prefs","devtools.prefs/default-config","day8.re-frame-10x.view.components/reset-wrapping","clojure.string/replace","day8.re-frame-10x.view.components/customized-cljs-devtools-prefs","day8.re-frame-10x.view.components/effective-cljs-devtools-prefs","cljs.core.merge","var_args","args__4777__auto__","len__4771__auto__","i__4772__auto__","argseq__4778__auto__","cljs.core/IndexedSeq","day8.re-frame-10x.view.components/make-devtools-api-call","seq39524","G__39525","cljs.core/first","cljs.core/next","self__4758__auto__","api-fn","args","previous-config__39472__auto__","devtools.prefs/get-prefs","prefs__39473__auto__","devtools.prefs/set-prefs!","cljs.core._EQ_","js/Error","cljs.core.apply","day8.re-frame-10x.view.components/cljs-devtools-header","seq39530","self__4759__auto__","cljs.core/seq","devtools.formatters.core/header-api-call","day8.re-frame-10x.view.components/cljs-devtools-body","seq39533","devtools.formatters.core/body-api-call","day8.re-frame-10x.view.components/cljs-devtools-has-body","seq39537","devtools.formatters.core/has-body-api-call","day8.re-frame-10x.view.components/get-object","jsonml","day8.re-frame-10x.view.components/get-config","day8.re-frame-10x.view.components/data-structure","path","expanded?","day8.re_frame_10x.inlined_deps.re_frame.v1v1v2.re_frame.core.subscribe","day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core/dispatch","day8.re-frame-10x.material/arrow-drop-down","day8.re-frame-10x.material/arrow-right","and__4149__auto__","day8.re_frame_10x.view.components.cljs_devtools_has_body","G__39548","G__39549","day8.re-frame-10x.view.components/jsonml->hiccup","day8.re_frame_10x.view.components.cljs_devtools_body","cljs.core.conj","G__39550","G__39551","day8.re_frame_10x.view.components.cljs_devtools_header","vec__39552","seq__39553","first__39554","tag-name","attributes","children","tagnames","cljs.core/contains?","cljs.core.into","cljs.core.js__GT_clj","cljs.core.map_indexed","i","child","G__39557","G__39558","day8.re-frame-10x.view.components/subtree","data","day8.re-frame-10x.utils.re-com/v-box","day8.re-frame-10x.utils.re-com/h-box","clojure.string.join","or__4160__auto__","cljs.core/boolean?","cljs.core.prn_str","day8.re-frame-10x.view.components/subscription-render","day8.re-frame-10x.view.components/simple-render","p__39568","vec__39570","seq39565","G__39566","G__39567","class","js/RegExp","day8.re-frame-10x.view.components/tag","label","day8.re-frame-10x.utils.re-com/box","day8.re-frame-10x.view.components/highlight","re-highlight.core/highlight"],"sourcesContent":["(ns day8.re-frame-10x.view.components\n  (:require [clojure.string :as str]\n            [goog.fx.dom :as fx]\n            [day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core :as rf]\n            [clojure.string :as str]\n            [day8.re-frame-10x.utils.re-com :as rc]\n            [day8.re-frame-10x.inlined-deps.reagent.v1v0v0.reagent.core :as r]\n            [devtools.prefs]\n            [devtools.formatters.core]\n            [day8.re-frame-10x.material :as material]\n            [re-highlight.core :as re-highlight]\n            [\"highlight.js/lib/languages/clojure\"])\n  (:require-macros [day8.re-frame-10x.utils.macros :refer [with-cljs-devtools-prefs]]))\n\n(defn search-input [{:keys [title placeholder on-save on-change on-stop]}]\n  (let [val  (r/atom title)\n        save #(let [v (-> @val str str/trim)]\n                (when (pos? (count v))\n                  (on-save v)))]\n    (fn []\n      [:input {:type        \"text\"\n               :value       @val\n               :auto-focus  true\n               :placeholder placeholder\n               :size        (if (> 20 (count (str @val)))\n                              25\n                              (count (str @val)))\n               :on-change   #(do (reset! val (-> % .-target .-value))\n                                 (on-change %))\n               :on-key-down #(case (.-which %)\n                               13 (do\n                                    (save)\n                                    (reset! val \"\"))\n                               nil)}])))\n\n(defn scroll! [el start end time]\n  (.play (fx/Scroll. el (clj->js start) (clj->js end) time)))\n\n(defn scrolled-to-end? [el tolerance]\n  ;; at-end?: element.scrollHeight - element.scrollTop === element.clientHeight\n  (> tolerance (- (.-scrollHeight el) (.-scrollTop el) (.-clientHeight el))))\n\n;; Data browser\n\n(defn string->css [css-string]\n  \"This function converts jsonml css-strings to valid css maps for hiccup.\n  Example: 'margin-left:0px;min-height:14px;' converts to\n           {:margin-left '0px', :min-height '14px'}\"\n\n  (->> (str/split css-string #\";\")\n       (map #(str/split % #\":\"))\n       (reduce (fn [acc [property value]]\n                 (assoc acc (keyword property) value)) {})))\n\n(declare jsonml->hiccup)\n\n(def default-cljs-devtools-prefs @devtools.prefs/default-config)\n\n(defn reset-wrapping [css-string]\n  (str/replace css-string #\"white-space:nowrap;\" \"\"))\n\n(def customized-cljs-devtools-prefs\n  {; Override some cljs-devtools default styles.\n\n   ; The goal here is to make default styles more flexible and wrap at the edge of our panel (we don't want horizontal\n   ; scrolling). Technically we want to remove all 'white-space:no-wrap'.\n   ; See https://github.com/binaryage/cljs-devtools/blob/master/src/lib/devtools/defaults.cljs\n   ;; Commented out as this causes some other issues too.\n   ;:header-style (reset-wrapping (:header-style default-cljs-devtools-prefs))\n   ;:expandable-style (reset-wrapping (:expandable-style default-cljs-devtools-prefs))\n   ;:item-style (reset-wrapping (:item-style default-cljs-devtools-prefs))\n\n   ; Hide the index spans on the left hand of collections. Shows how many elements in a collection.\n   :none-style                     \"display: none\"\n   :index-tag                      [:span :none-style]\n   :min-expandable-sequable-count-for-well-known-types\n                                   3\n\n   ; Our JSON renderer does not have hierarchy depth limit,\n   ; See https://github.com/binaryage/cljs-devtools/blob/master/src/lib/devtools/formatters/budgeting.cljs\n   :initial-hierarchy-depth-budget false})\n\n(def effective-cljs-devtools-prefs (merge default-cljs-devtools-prefs customized-cljs-devtools-prefs))\n\n(defn make-devtools-api-call [api-fn & args]\n  (with-cljs-devtools-prefs effective-cljs-devtools-prefs\n                            (apply api-fn args)))\n\n(defn cljs-devtools-header [& args]\n  (apply make-devtools-api-call devtools.formatters.core/header-api-call args))\n\n(defn cljs-devtools-body [& args]\n  (apply make-devtools-api-call devtools.formatters.core/body-api-call args))\n\n(defn cljs-devtools-has-body [& args]\n  (apply make-devtools-api-call devtools.formatters.core/has-body-api-call args))\n\n(defn get-object [jsonml]\n  (.-object (get jsonml 1)))\n\n(defn get-config [jsonml]\n  (.-config (get jsonml 1)))\n\n(defn data-structure [jsonml path]\n  (let [expanded? (rf/subscribe [:app-db/node-expanded? path])]\n    (fn [jsonml path]\n      [:span\n       {:class (str \"re-frame-10x--object\" (when @expanded? \" expanded\"))}\n       [:span {:class    \"toggle\"\n               :on-click #(rf/dispatch [:app-db/toggle-expansion path])}\n        [:button.expansion-button\n         (if @expanded?\n           [material/arrow-drop-down :fill \"#6EC0E6\"]\n           [material/arrow-right :fill \"#6EC0E6\"])]]\n       (if (and @expanded? (cljs-devtools-has-body (get-object jsonml) (get-config jsonml)))\n         (jsonml->hiccup\n           (cljs-devtools-body\n             (get-object jsonml)\n             (get-config jsonml))\n           (conj path :body))\n         (jsonml->hiccup\n           (cljs-devtools-header\n             (get-object jsonml)\n             (get-config jsonml))\n           (conj path :header)))])))\n\n(defn jsonml->hiccup\n  \"JSONML is the format used by Chrome's Custom Object Formatters.\n  The spec is at https://docs.google.com/document/d/1FTascZXT9cxfetuPRT2eXPQKXui4nWFivUnS_335T3U/preview.\n\n  JSONML is pretty much Hiccup over JSON. Chrome's implementation of this can\n  be found at https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/object_ui/CustomPreviewComponent.js\n  \"\n  [jsonml path]\n  (if (number? jsonml)\n    jsonml\n    (let [[tag-name attributes & children] jsonml\n          tagnames #{\"div\" \"span\" \"ol\" \"li\" \"table\" \"tr\" \"td\"}]\n      (cond\n        (contains? tagnames tag-name) (into\n                                        [(keyword tag-name) {:style (-> (js->clj attributes)\n                                                                        (get \"style\")\n                                                                        (string->css))}]\n                                        (map-indexed (fn [i child] (jsonml->hiccup child (conj path i))))\n                                        children)\n\n        (= tag-name \"object\") [data-structure jsonml path]\n        :else jsonml))))\n\n(defn subtree [data title path]\n  (let [expanded? (rf/subscribe [:app-db/node-expanded? path])]\n    (fn [data]\n      [rc/v-box\n       :children\n       [[rc/h-box\n         :align :center\n         :class (str/join \" \" [\"re-frame-10x--object\"\n                               (when @expanded? \"expanded\")])\n         :children\n         [[:span {:class    \"toggle\"\n                  :on-click #(rf/dispatch [:app-db/toggle-expansion path])}\n           [:button.expansion-button\n            (if @expanded?\n              [material/arrow-drop-down :fill \"#6EC0E6\"]\n              [material/arrow-right :fill \"#6EC0E6\"])]]\n          (or title \"data\")]]\n        [rc/h-box\n         :children [[:div {:style {:margin-left 20}}\n                     (cond\n                       (and @expanded?\n                            (or (string? data)\n                                (number? data)\n                                (boolean? data)\n                                (nil? data))) [:div {:style {:margin \"10px 0\"}} (prn-str data)]\n                       @expanded? (jsonml->hiccup (cljs-devtools-header data) (conj path 0)))]]]]])))\n\n(defn subscription-render [data title path]\n  (let [expanded? (r/atom true) #_(rf/subscribe [:app-db/node-expanded? path])]\n    (fn [data]\n      [:div\n       {:class (str/join \" \" [\"re-frame-10x--object\"\n                              (when @expanded? \"expanded\")])}\n       #_[:span {:class    \"toggle\"\n                 :on-click #(rf/dispatch [:app-db/toggle-expansion path])}\n          [:button.expansion-button (if @expanded? \"\u25bc \" \"\u25b6 \")]]\n       (or title \"data\")\n       [:div {:style {:margin-left 20}}\n        (cond\n          (and @expanded?\n               (or (string? data)\n                   (number? data)\n                   (boolean? data)\n                   (nil? data))) [:div {:style {:margin \"10px 0\"}} (prn-str data)]\n          @expanded? (jsonml->hiccup (cljs-devtools-header data) (conj path 0)))]])))\n\n(defn simple-render [data path & [class]]\n  (let [expanded? (r/atom true) #_(rf/subscribe [:app-db/node-expanded? path])]\n    (fn [data]\n      [:div\n       {:class (str/join \" \" [\"re-frame-10x--object\"\n                              (when @expanded? \"expanded\")\n                              class])}\n       #_[:span {:class    \"toggle\"\n                 :on-click #(rf/dispatch [:app-db/toggle-expansion path])}\n          [:button.expansion-button (if @expanded? \"\u25bc \" \"\u25b6 \")]]\n       [:div #_{:style {:margin-left 20}}\n        (cond\n          (and @expanded?\n               (or (string? data)\n                   (instance? js/RegExp data)\n                   (number? data)\n                   (boolean? data)\n                   (nil? data))) [:div {:style {:margin \"10px 0\"}} (prn-str data)]\n          @expanded? (jsonml->hiccup (cljs-devtools-header data) (conj path 0)))]])))\n\n(defn tag [class label]\n  [rc/box\n   :class (str \"rft-tag noselect \" class)\n   :child [:span {:style {:margin \"auto\"}} label]])\n\n(def highlight re-highlight/highlight)\n"]}